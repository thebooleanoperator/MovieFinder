<div id="search">
    <h2 class="search-title">Search</h2>
    <div class="search-box">
        <mat-icon class="search-icon" (click)="toggleSearch()">search</mat-icon>
        <input  [(ngModel)]="search" *ngIf="showSearch" class="search-input mat-elevation-z8" placeholder="Movie Search">
        <button class="search-button" *ngIf="showSearch" mat-fab (click)="searchMovies(search)">Search</button>
    </div>
    <div class="search-results">
        <table mat-table class="mat-elevation-z8" [dataSource]="movies">
            <!-- Title Column -->
            <ng-container class="item" matColumnDef="Title">
                <th mat-header-cell *matHeaderCellDef>Title</th>
                <td mat-cell *matCellDef="let movie"> {{movie.title}} </td>
            </ng-container>

            <!-- Genre Column -->
            <ng-container class="item" matColumnDef="Genre">
                <th mat-header-cell *matHeaderCellDef>Genre</th>
                <td mat-cell *matCellDef="let movie"> {{formatGenres(movie.genres)}} </td>
            </ng-container>

            <!-- Director Column -->
            <ng-container class="item" matColumnDef="Director">
                <th mat-header-cell *matHeaderCellDef>Director</th>
                <td mat-cell *matCellDef="let movie"> {{movie.director}} </td>
            </ng-container>

            <!-- Year Column-->
            <ng-container class="item" matColumnDef="Year">
                <th mat-header-cell *matHeaderCellDef>Year</th>
                <td mat-cell *matCellDef="let movie"> {{movie.year}} </td>
            </ng-container>

            <!--ImdbRating Column-->
            <ng-container class="item" matColumnDef="ImdbRating">
                <th mat-header-cell *matHeaderCellDef>Imdb Rating</th>
                <td mat-cell *matCellDef="let movie"> {{movie.imdbRating}} / 10</td>
            </ng-container>
            
            <!--RunTime Column-->
            <ng-container class="item" matColumnDef="RunTime">
                <th mat-header-cell *matHeaderCellDef>RunTime</th>
                <td mat-cell *matCellDef="let movie"> {{movie.runTime}} Min. </td>
            </ng-container>

            <!--OnNetflix Column-->
            <ng-container class="item" matColumnDef="Neflix">
                <th mat-header-cell *matHeaderCellDef>Netflix</th>
                <td mat-cell *matCellDef="let movie"> {{movie.runTime}} Min. </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
